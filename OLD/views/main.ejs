<html lang="en">
  <head>
    <title>Animes Star™</title>
    <% include imports/head %>
  </head>
  <body>
    <div class="top55" style="position: absolute; top: 60%; right: 2%; display: flex; flex-direction: column">
      <a class="buttonRed" onclick="changeBanner('next')" style="cursor: pointer; font-size: 5vh; padding-block: 0.3vh; padding-inline: 1.5vh; background: rgba(255,0,0,0.6); border-radius: 1vh; margin-block: 1vh"><i class="fad fa-angle-right"></i></a>
      <a class="buttonRed" onclick="changeBanner('previous')" style="cursor: pointer; font-size: 5vh; padding-block: 0.3vh; padding-inline: 1.5vh; background: rgba(255,0,0,0.6); border-radius: 1vh"><i class="fad fa-angle-left"></i></a>
    </div>
    <% include imports/navbar %>
    <header style="width: 100%; height: 80%;">
      <div id="banners" style="max-width: 100%; height: 100%; overflow: hidden; display: flex">
        <div style="position: relative; width: 100%; height: 100%">
          <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
            <div class="loader-wheel"></div>
            <div class="loader-text font-5"></div>
          </div>
        </div>
      </div>
    </header>
    
    <div class="flexDirectionColumn" style="margin-block: 5vh; margin-left: 5%; width: 90%; display: flex;">
      <div class="width100 maxWidth100" style="width: 75%; max-width: 75%; overflow: hidden">
        <a class="font-12" style="font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Lançamentos do Dia</a>
        <div style="display: flex">
          <div style="margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 12%; height: 0.16vh;"></div>
          <div style="margin-left: auto; margin-bottom: 0vh">
            <a class="buttonRed" onclick="changeCalendar('previous')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh"><i class="fad fa-angle-left"></i></a>
            <a class="buttonRed" onclick="changeCalendar('next')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh;"><i class="fad fa-angle-right"></i></a>
          </div>
        </div>
        <div id="calendars" style="display: flex; margin-top: 1vh; margin-left: 1vh">
          <div style="position: relative; min-height: 10vh; width: 100%; height: 100%">
            <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
              <div class="loader-wheel"></div>
              <div class="loader-text font-5"></div>
            </div>
          </div>
        </div>
        <div style="margin-top: 4vh;">
          <a class="font-12" style="font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Últimos Episódios</a>
          <div style="display: flex;">
            <div style="margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 12%; height: 0.16vh;"></div>
            <div style="margin-left: auto; margin-bottom: 1vh">
              <a class="buttonRed" href="/lancamentos" style="color: white; text-decoration: none; font-weight: 600; cursor: pointer; font-size: 2vh; padding-block: 0.5vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh">Ver Mais</a>
            </div>
          </div>
        </div>
        <div id="newEps" style="display: flex; flex-flow: wrap; margin-top: 1vh; margin-left: 1vh">
          <div style="position: relative; min-height: 10vh; width: 100%; height: 100%">
            <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
              <div class="loader-wheel"></div>
              <div class="loader-text font-5"></div>
            </div>
          </div>
        </div>

        <div style="margin-top: 4vh;">
          <a class="font-12" style="font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Animes Dublados</a>
          <div style="display: flex">
            <div style="margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 12%; height: 0.16vh;"></div>
            <div style="margin-left: auto; margin-bottom: 0vh">
              <a class="buttonRed" onclick="changeLastDubs('previous')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh"><i class="fad fa-angle-left"></i></a>
              <a class="buttonRed" onclick="location.href = '/dublados'" style="font-weight: 600; cursor: pointer; font-size: 2vh; padding-block: 0.5vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh;">Ver Mais</a>
              <a class="buttonRed" onclick="changeLastDubs('next')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh;"><i class="fad fa-angle-right"></i></a>
            </div>
          </div>
        </div>
        <div id="dublados" style="display: flex; margin-top: 1vh; margin-left: 1vh">
          <div style="position: relative; min-height: 10vh; width: 100%; height: 100%">
            <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
              <div class="loader-wheel"></div>
              <div class="loader-text font-5"></div>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 4vh;">
          <a class="font-12" style="font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Filmes Populares</a>
          <div style="display: flex">
            <div style="margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 12%; height: 0.16vh;"></div>
            <div style="margin-left: auto; margin-bottom: 0vh">
              <a class="buttonRed" onclick="changeLastFilms('previous')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh"><i class="fad fa-angle-left"></i></a>
              <a class="buttonRed" onclick="location.href = '/filmes'" style="font-weight: 600; cursor: pointer; font-size: 2vh; padding-block: 0.5vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh;">Ver Mais</a>
              <a class="buttonRed" onclick="changeLastFilms('next')" style="cursor: pointer; font-size: 3vh; padding-inline: 1vh; background: rgba(255,0,0,0.6); border-radius: 1vh;"><i class="fad fa-angle-right"></i></a>
            </div>
          </div>
        </div>
        <div id="lastFilms" style="display: flex; margin-top: 1vh; margin-left: 1vh">
          <div style="position: relative; min-height: 10vh; width: 100%; height: 100%">
            <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
              <div class="loader-wheel"></div>
              <div class="loader-text font-5"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="width100 maxWidth100" style="width: 25%; overflow: hidden  flex-direction: column">
        <div class="marginLeft0" style="margin-top: 5vh; margin-left: 10%">
          <a class="font-12" style="margin-left: 1%; font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Top Usuários</a>
          <div style="margin-bottom: 2vh; margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 28%; height: 0.15vh;"></div>
          <% if (tops) { tops.forEach((user, index)=>{ %>
            <div class="calendarMain2" style="position: relative;">
              <div onclick="openTopProfile('<%=index%>')" style="cursor: pointer; margin-inline: 4%; display: flex; width: 92%; height: 13vh; background: rgba(10,10,10); margin-block: 1vh; border-radius: 0.8vh;">
                <div style="width: 13.5vh; height: 10vh; margin-top:1.5vh; margin-left: 1.5vh; background: url('<%=user.avatar%>'); background-size: cover; background-position: center; border-radius: 10vh;"></div>
                <div style="position: relative; width: 100%; height: 100%;">
                  <div style="position: absolute; bottom: 1vh; left: 2vh; right: 5vh">
                    <a class="font-3" style="font-size: 1.9vh; font-weight: 600; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 1;"><%=user.name%></a>
                    <a class="font-3" style="font-size: 1.6vh; color:red; font-weight: 600; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 1;"><%=user.role%></a>
                    <div style="margin-left: 0.6vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 20%; height: 0.16vh;"></div>
                    <a class="font-3" style="font-size: 1.7vh; color:gray; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 1;"><span style="color:red">+<%=user.videos ? user.videos : 0%></span> Episódio Assistidos</a>
                    <a class="font-3" style="font-size: 1.7vh; color:gray; display: -webkit-box; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 1;"><span style="color:red">+<%=user.comments ? user.comments : 0%></span> Comentarios</a>
                  </div>
                </div>
              </div>
              <div id="topProfile<%=index%>" class="left1" style="display: none; flex-direction: column; color: black; cursor: default; z-index: 1; position: absolute; top: 0%; left: -41vh; width: 40vh; height: 55vh; background-color: rgba(167,167,167); background-image: url('https://cdn.glitch.global/df72e925-5da1-4a58-bb86-25b4e6d5bc73/background-white.png?v=1641440672970'); border-bottom-right-radius: 3vh; border-bottom-left-radius: 3vh; border-top-left-radius: 3vh;">
                <div onclick="closeTopProfile('<%=index%>')" class="right3 top8-5" style="z-index:2; position: absolute; top: 0.7vh; right: 1vh; color: black">
                  <i class="fad fa-times colorRed" style="cursor: pointer; font-size: 3.8vh;"></i>
                </div>
                <div style="cursor: default; height: 15vh; width: 100%; background: <%=user.banner ? user.banner.length == 7 && user.banner.startsWith('#') ? user.banner : `url(${user.banner})` : 'black'%>; background-size: cover; background-position: center; border-top-left-radius: 3vh;"></div>
                <a class="font-8" style="position: absolute; top: 30%; right: 5%; font-size: 2vh; font-weight: 700; color: black;"><%=user.role%></a>
                <div style="position: absolute; top: 13.5%; left: 6%; height: 10vh; width: 10vh; border: 0.8vh solid rgba(167,167,167); border-image: url('https://cdn.glitch.global/df72e925-5da1-4a58-bb86-25b4e6d5bc73/background-white.png?v=1641440672970'); background-color: rgba(167,167,167); background-image: url('https://cdn.glitch.global/df72e925-5da1-4a58-bb86-25b4e6d5bc73/background-white.png?v=1641440672970'); border-radius: 10vh"></div>
                <img src="<%=user.avatar%>" style="cursor: default; position: absolute; top: 15%; left: 8%; display: block; margin-left: auto; margin-right: auto; width: 10vh; height: 10vh; border-radius: 10vh;">
                <div style="margin-top: 5vh; margin-inline: 4vh; display: flex; flex-direction: column">
                  <a style="font-size: 1.6vh; font-weight: 600; margin-left: 1vh">Nome:</a>
                  <div style="display: flex; border-bottom: 0.3vh solid gray; font-size: 2.3vh;">
                    <div style="margin-top: 0.8vh"><i style="color: gray" class="fad fa-user-astronaut"></i></div>
                    <input disabled placeholder="Error" value="<%=user.name%>" style="cursor: default; width: auto; font-size: 2vh; padding-left: 1vh; font-weight: 500; background: transparent; border: none; width: 100%; height: 4vh;">
                    <div style="display: flex; font-size: 2.3vh; margin-left: 0; width: 20vh;">
                      <div style="margin-top: 0.8vh"><i style="color: gray" class="fad fa-hashtag"></i></div>
                      <input disabled placeholder="Error" value="<%=user.index%>" style="cursor: default; font-size: 2vh; padding-left: 1vh; font-weight: 500; background: transparent; border: none; width: 100%; height: 4vh;">
                    </div>
                  </div>
                  <a style="margin-top:2vh; font-size: 1.6vh; font-weight: 600; margin-left: 1vh">Sobre Mim:</a>
                  <div style="display: flex; border-bottom: 0.3vh solid gray; font-size: 2.3vh;">
                    <div style="margin-top: 0.8vh"><i style="color: gray" class="fad fa-user-tie"></i></div>
                    <input placeholder="Error" value="<%=user.about%>" disabled style="cursor: default; font-size: 2vh; padding-left: 1vh; font-weight: 500; background: transparent; border: none; width: 100%; height: 4vh;">
                  </div>
                  <a style="margin-top:2vh; font-size: 1.6vh; font-weight: 600; margin-left: 1vh">Membro Desde:</a>
                  <div style="display: flex; border-bottom: 0.3vh solid gray; font-size: 2.3vh;">
                    <div style="margin-top: 0.8vh"><i style="color: gray" class="fad fa-calendar-alt"></i></div>
                    <input value="<%=user.date%>" placeholder="Rrror" disabled style="cursor: default; font-size: 2vh; padding-left: 1vh; font-weight: 500; background: transparent; border: none; width: 100%; height: 4vh;">
                  </div>
                  <div class="buttonLogin" style="margin-top: 2vh"><a style="font-size: 2.5vh; color: white; font-weight: 600;">Lista de Animes</a></div>
                </div>
              </div>
            </div>
          <% })} %>
        </div>
        <div class="marginLeft0" style="margin-top: 6vh; margin-left: 10%">
          <a class="font-12" style="margin-left: 1%; font-weight: 600; font-size: 2.7vh; border-radius: 0.4vh; padding-left: 1.5vh;">Populares</a>
          <div style="margin-bottom: 2vh; margin-left: 1.7vh; margin-top: 1.5vh; background: linear-gradient(to right,rgba(255, 0, 0, 1) 0%,rgba(0, 0, 0, 0) 100%); width: 20%; height: 0.15vh;"></div>
          <div id="tops">
            <div id="loadPopulares" style="position: relative; min-height: 10vh; width: 100%;">
              <div style="position: absolute; top: 50%; left: 50%; margin-top: -2vh; margin-left: -2vh">
                <div class="loader-wheel"></div>
                <div class="loader-text font-5"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <% include imports/footer %>
  </body>
  <script src="/js/main.js"></script>
  <script>
    var topProfileOpen = false
    function openTopProfile(index) {
      if (topProfileOpen) {
        document.getElementById(`topProfile${topProfileOpen}`).style.display = 'none'
        topProfileOpen = false
      }
      document.getElementById(`topProfile${index}`).style.display = 'flex'
      topProfileOpen = index
    }
    function closeTopProfile(index) {
      document.getElementById(`topProfile${index}`).style.display = `none`
      topProfileOpen = false 
    }
  </script>
</html>